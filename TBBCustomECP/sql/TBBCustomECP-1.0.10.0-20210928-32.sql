--------------金融卡發卡主檔
alter table tpTBBUATMCardDetail alter column U_A011Grid  set data type  varchar(10000);

update TsField set  FUnitId='2eda0929-0c00-8f3a-bb07-179eabb6da30', FName='U_A011Grid',      FTitle='金融卡發卡歷史查詢',           FType='Grid',                FSize=10000, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='local',    FJoinField=null, FSourceField=null, FSource=null, FColSpan=0, FRowSpan=1, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint='',                            FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='',   FSelectListFilterSqlExceedable=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FAlwaysBringDataToClient=0, FDefaultValueType=null, FMobileListFormat=null, FFollowingField=null, FParentField=null where FId='2eda0929-0c00-e960-be0e-179efa9ef160';
update TsField set  FUnitId='2eda0929-0c00-8f3a-bb07-179eabb6da30', FName='U_Inquiry4',      FTitle='金融卡約定轉帳帳號檔查詢',     FType='Button',              FSize=null,  FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='constant', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint='金融卡約定轉帳帳號檔查詢',    FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='',   FSelectListFilterSqlExceedable=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FAlwaysBringDataToClient=0, FDefaultValueType=null, FMobileListFormat=null, FFollowingField=null, FParentField=null where FId='0800c056-5000-fb2c-1404-17bf27ac1d70';

update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='發卡順序',              FKey='U_OCRDNUM',    FType='String',  FIndex=1,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efad25c90';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='帳號',                  FKey='U_ACN',        FType='String',  FIndex=2,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efaba57e0';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='卡片號碼',              FKey='U_OSEQCRD',    FType='String',  FIndex=3,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efac10be0';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='發卡序號',              FKey='U_OSEQREC',    FType='String',  FIndex=4,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efad65440';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='狀況碼',                FKey='U_OSTSCOD',    FType='String',  FIndex=5,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efb42f210';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='申請日期',              FKey='U_ODATAPL',    FType='String',  FIndex=6,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efb60f0c0';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='發放日期',              FKey='U_ODATISU',    FType='String',  FIndex=7,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efb64ec80';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='啟用日期',              FKey='U_ODATUSE',    FType='String',  FIndex=8,   FControls='' where FId='2eda0929-0c00-e960-be0e-179efb68cde0';
update TsFieldGridColumn set  FFieldId='2eda0929-0c00-e960-be0e-179efa9ef160', FTitle='明細查詢',              FKey='U_A012Search', FType='Control', FIndex=9,   FControls='[{
    type: "Button",
    text: "明細查詢",
    onclick: "UATMCardDetailForm.doA012()"
}]' where FId='2eda0929-0c00-e960-be0e-179efccb8bc0';


java setImportTemplateFields('2eda0929-0c00-8f3a-bb07-179eabb6da30', 'FName,U_ACNO,U_Inquiry,U_Inquiry3,U_Inquiry2,U_Inquiry4,U_A011Grid,U_A012Grid');



--------------金融卡約定轉帳帳號檔
alter table tpTBBUPreDesignateAC alter column U_ACNO  set data type  varchar(11);
update TsUnit set  FCode='TBB.UPreDesignateAC', FName='金融卡約定轉帳帳號檔', FIcon='quicksilver/image/unit/New.gif', FEditId='541c707d-79dd-4dbb-85fc-1a214fd5fce4', FModuleId='00000000-0000-0000-0008-010000000010', FOpenMode='System', FIsTreeStructure=0, FMaxTreeLevel=null, FIsSlaveUnit=0, FMasterUnitId=null, FSupportWorkflow=0, FSupportUser=0, FSupportDepartment=0, FSupportEditType=0, FSupportAttachment=0, FSupportDataPrivilege=0, FSupportVersion=0, FSupportBusinessLog=0, FSupportNote=0, FSupportSort=0, FSupportPrivilegeField=0, FIsFullTextSearch=0, FSearchAttachment=0, FSupportEqualQuery=0, FUseSystemI18nTable=0, FExtraQueryResultLimit=0, FRecordCreateInfo=0, FRecordUpdateInfo=0, FRecordDeleteInfo=0, FOpenViewPageFirst=0, FDataSource='default', FTable='tpTBBUPreDesignateAC', FKeyField='FId', FKeyType='Uuid', FNameField='FName', FMasterField=null, FHomeClassName=null, FDaoClassName=null, FServiceClassName=null, FActionClassName=null, FWebServiceUniqueField=null, FUnitFilterSql='', FBusinessFilterSql='', FDescription='', FOpenViewPageCondition=null, FViewPageConditionForList=null, FViewPageConditionForLink=null, FBigIcon='quicksilver/image/unit/New-64.png', FIsTreeCheckPrivilege=0, FApiClassName=null, FApiEnabled=0, FSupportSynonyms=0 where FId='1788c38d-ef60-0001-5ef2-005056c00008';
update TsField set  FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FName='U_ACNO',           FTitle='金融卡帳號',       FType='InputBox-Text',    FSize=11,    FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='local',    FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint='',                                                                                                   FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='',   FSelectListFilterSqlExceedable=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FAlwaysBringDataToClient=0, FDefaultValueType=null, FMobileListFormat=null, FFollowingField=null, FParentField=null where FId='1788c3bb-ea80-0001-5ef2-005056c00008';

insert into TsField set FId='2eda0929-0c00-9815-0c0e-17c11d8f6b70', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FName='U_Memo',           FTitle='備註提醒',         FType='Label',            FSize=null,  FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='constant', FJoinField=null, FSourceField=null, FSource=null, FColSpan=0, FRowSpan=1, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint='<span style = "color: red;"><b>
備註1：金融卡約定轉帳帳戶以15戶為限，此申請分行鍵機完成立即生效。<br>
備註2：更新約定轉帳方式，分行鍵機完成後可另執行115-14更新約定資料或請客戶可持金融卡至本行ATM點選「其他服務」→「更新約定資料」→「更新轉入帳號」。<br>
備註3：約定帳號於ATM顯示順序：<br>
本行ATM：ATM可顯示全部約定的帳號，以申請約定轉帳帳號時間排序，若為同一天，則依照分行鍵機順序排序。<br>
他行ATM：最多顯示8組資料，以申請約定轉帳帳號時間排序，若為同一天，則依照分行鍵機順序排序。
</b></span>', FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='',   FSelectListFilterSqlExceedable=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FAlwaysBringDataToClient=0, FDefaultValueType=null, FMobileListFormat=null, FFollowingField=null, FParentField=null;

insert into TsFieldGridColumn set FId='2eda0929-0c00-3b32-450b-17c08ae54e80', FFieldId='1788c3d8-3cb0-0001-5ef2-005056c00008', FTitle='編號',     FKey='U_Number',       FType='String', FIndex=1, FControls='';

update TsPage set  FName='金融卡約定轉帳帳號檔選擇列表', FTitle='金融卡約定轉帳帳號檔列表', FCode='TBB.UPreDesignateAC.SelectList', FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/New.gif',  FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='TBB.UPreDesignateAC.prepareList', FLoadHandler=null,                         FRelationId=null, FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FHasViewFrame=null, FQueryOnLoad=null, FQuerySchemaId=null, FQueryFormAutoQuery=1, FVisible=1, FDescription=null, FDialogMaximized=null, FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments=null, FVisibleCondition=null, FEditId='4e9b96a5-4c20-42a0-8929-d83efc27af4e', FFormColumnCount=null where FId='1788c38e-0930-2001-5ef2-005056c00008';
update TsPage set  FName='金融卡約定轉帳帳號檔主列表',   FTitle='金融卡約定轉帳帳號檔列表', FCode='TBB.UPreDesignateAC.List',       FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/New.gif',  FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='TBB.UPreDesignateAC.prepareList', FLoadHandler=null,                         FRelationId=null, FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FHasViewFrame=null, FQueryOnLoad=null, FQuerySchemaId=null, FQueryFormAutoQuery=1, FVisible=1, FDescription=null, FDialogMaximized=null, FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments=null, FVisibleCondition=null, FEditId='4e9b96a5-4c20-42a0-8929-d83efc27af4e', FFormColumnCount=null where FId='1788c38e-08f0-0001-5ef2-005056c00008';
update TsPage set  FName='金融卡約定轉帳帳號檔表單',     FTitle='金融卡約定轉帳帳號檔',     FCode='TBB.UPreDesignateAC.Form',       FPlatform='Computer', FType='EntityForm', FIcon='quicksilver/image/unit/Form.png', FUrl='quicksilver/page/template/EntityForm.jsp', FActionMethodName='TBB.UPreDesignateAC.prepareForm', FLoadHandler='UPreDesignateACForm.doLoad', FRelationId=null, FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FMasterUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FIsSlavePage=1, FIndex=1,    FDialogWidth=null, FDialogHeight=500,  FHasViewFrame=0,    FQueryOnLoad=null, FQuerySchemaId=null, FQueryFormAutoQuery=0, FVisible=1, FDescription='',   FDialogMaximized=0,    FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments='',   FVisibleCondition=null, FEditId='4e9b96a5-4c20-42a0-8929-d83efc27af4e', FFormColumnCount=null where FId='1788c38e-0860-0001-5ef2-005056c00008';

java setFormFields('1788c38e-1b10-0001-5ef2-005056c00008', '基本資訊', '1788c38e-1b10-1001-5ef2-005056c00008', null, 'U_ACNO,U_Button', '查詢結果', '1788c408-cc20-0001-5ef2-005056c00008', null, 'U_DepACNum,U_IterBkDepACNum,U_Grid,U_Memo');

update TsList set FDefault=1,  FIndex=null, FMultiPage=1, FName='金融卡約定轉帳帳號檔列表（預設）', FPageId=null,                                   FPlatform='Computer', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008' where FId='1788c38e-2f70-0001-5ef2-005056c00008';
update TsList set FDefault=0,  FIndex=null, FMultiPage=1, FName='金融卡約定轉帳帳號檔選擇列表',     FPageId='1788c38e-0930-2001-5ef2-005056c00008', FPlatform='Computer', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008' where FId='1788c38e-2fc0-0001-5ef2-005056c00008';
update TsList set FDefault=0,  FIndex=null, FMultiPage=1, FName='金融卡約定轉帳帳號檔首頁列表',     FPageId='9b796431-f132-49d1-b306-5d1d618f9c1b', FPlatform='Computer', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008' where FId='1788c38e-2fd0-0001-5ef2-005056c00008';

update TsPrivilege set  FName='金融卡約定轉帳帳號檔刪除', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FModuleId='00000000-0000-0000-0008-010000000010', FPrivilegeTypeId='00000000-0000-0000-1005-000000000004', FUseExisting=0, FSourcePrivilegeId=null, FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null where FId='1788c38e-3010-1001-5ef2-005056c00008';
update TsPrivilege set  FName='金融卡約定轉帳帳號檔查看', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FModuleId='00000000-0000-0000-0008-010000000010', FPrivilegeTypeId='00000000-0000-0000-1005-000000000002', FUseExisting=0, FSourcePrivilegeId=null, FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null where FId='1788c38e-3000-1001-5ef2-005056c00008';
update TsPrivilege set  FName='金融卡約定轉帳帳號檔修改', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FModuleId='00000000-0000-0000-0008-010000000010', FPrivilegeTypeId='00000000-0000-0000-1005-000000000003', FUseExisting=0, FSourcePrivilegeId=null, FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null where FId='1788c38e-3010-0001-5ef2-005056c00008';
update TsPrivilege set  FName='金融卡約定轉帳帳號檔新增', FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FModuleId='00000000-0000-0000-0008-010000000010', FPrivilegeTypeId='00000000-0000-0000-1005-000000000001', FUseExisting=0, FSourcePrivilegeId=null, FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null where FId='1788c38e-3000-0001-5ef2-005056c00008';

update TsQuerySchema set  FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FName='全部金融卡約定轉帳帳號檔',     FType='condition',  FPublic=1, FTemp=0, FGlobalAutoQuery=0, FShare=0, FUserId=null, FConditionId=null, FSqlSource='None', FSql=null, FIndex=1, FUpdateTime=null, FOriginSchemaId=null, FVisible=1, FParentId=null where FId='1788c38e-3020-0001-5ef2-005056c00008';
update TsQuerySchema set  FUnitId='1788c38d-ef60-0001-5ef2-005056c00008', FName='金融卡約定轉帳帳號檔我的最愛', FType='collection', FPublic=1, FTemp=0, FGlobalAutoQuery=0, FShare=0, FUserId=null, FConditionId=null, FSqlSource='None', FSql=null, FIndex=3, FUpdateTime=null, FOriginSchemaId=null, FVisible=1, FParentId=null where FId='1788c38e-3020-1001-5ef2-005056c00008';

update TsMenu set  FParentId='00000000-0000-0000-0008-010000000010', FIndex=8, FTreeLevel=3, FTreeSerial='001.001.008', FName='金融卡約定轉帳帳號檔', FIcon='quicksilver/image/unit/New.gif', FPageId='1788c38e-08f0-0001-5ef2-005056c00008', FArguments=null, FLicensed=1, FEnabled=1, FReplaceByChildren=0, FFunctionName=null, FSubMenuSource='MenuTable', FSubMenuRoutine=null, FQuerySchemaId=null, FQuerySchemaLocked=null, FShowMenuNameInTab=0, FType='InternalPage', FOpenMode='Tab', FExternalPageUrl=null, FCountType=null, FCountUnitId=null, FCountUserField=null, FCountStatusField=null, FCountStatus1=null, FCountStatus2=null, FCountStatus3=null, FCountStatus4=null, FCountJavaClass=null, FTabTitleSource='PageTitle', FTabTitle=null, FQueryFormHidden=null, FEncrypt=null, FAlwaysOpenNewTab=null where FId='1788c38e-0970-0001-5ef2-005056c00008';
update TsMenu set  FName='金融卡約定轉帳帳號檔' where FId='2eda0929-0c00-8b17-060a-17a3cd37cee0';


